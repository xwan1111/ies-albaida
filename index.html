<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Chat con Imagen Simulada</title>
<style>
body {
  margin:0;
  font-family:Arial,sans-serif;
  display:flex;
  flex-direction:column;
  height:100vh;
  background:#343541;
  color:white;
}
#messages {
  flex:1;
  overflow-y:auto;
  padding:20px;
}
.msg {
  max-width:70%;
  padding:12px;
  border-radius:10px;
  margin-bottom:12px;
  word-break:break-word;
}
.user {background:#444654;margin-left:auto;}
.ai {background:#3a3b42;}
.images {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:10px;
  margin-top:10px;
}
.images img {width:100%;border-radius:8px;}
#inputBar {
  background:#40414f;
  padding:10px;
  display:flex;
  gap:10px;
}
input {flex:1;padding:10px;border-radius:6px;border:none;}
button {padding:10px 15px;border-radius:6px;border:none;background:#19c37d;color:white;cursor:pointer;}
</style>
</head>
<body>

<div id="messages"></div>

<div id="inputBar">
  <input id="prompt" placeholder="Escribe tu mensaje">
  <button id="sendBtn">Enviar</button>
</div>

<script>
// Array de mensajes
let messagesData = [];

// Renderizar chat
function render() {
  const messages = document.getElementById("messages");
  messages.innerHTML = "";
  messagesData.forEach(m => {
    const div = document.createElement("div");
    div.className = "msg " + m.role;
    div.textContent = m.text;
    messages.appendChild(div);

    if(m.image){
      const grid = document.createElement("div");
      grid.className = "images";
      const img = document.createElement("img");
      img.src = m.image;
      grid.appendChild(img);
      messages.appendChild(grid);
    }
  });
  messages.scrollTop = messages.scrollHeight;
}

// Generar imagen simulada basada en el texto
function generateImage(promptText){
  // Picsum usa el texto como semilla para cambiar la imagen
  return `https://picsum.photos/seed/${encodeURIComponent(promptText)}/512`;
}

// Enviar mensaje
function send(){
  const input = document.getElementById("prompt");
  const text = input.value.trim();
  if(!text) return;

  // Mensaje usuario
  messagesData.push({role:"user", text});
  render();
  input.value = "";

  // Mensaje IA con imagen simulada
  const img = generateImage(text);
  messagesData.push({role:"ai", text:"Imagen generada:", image: img});
  render();
}

// BotÃ³n enviar
document.getElementById("sendBtn").addEventListener("click", send);
// Enter para enviar
document.getElementById("prompt").addEventListener("keydown", e => { if(e.key==="Enter") send(); });

// Render inicial
render();
</script>

</body>
</html>




